## STEP 2: ユースケース抽出

### プロジェクト管理ドメイン：ユースケース一覧（概要）

| UC番号  | ユースケース名    | アクター             | ステータス  |
| ----- | ---------- | ---------------- | ------ |
| UC-01 | プロジェクト作成   | プロジェクト管理者        | ✅ 実装済み |
| UC-02 | プロジェクト一覧取得 | プロジェクト管理者、一般ユーザー | ✅ 実装済み |
| UC-03 | プロジェクト詳細取得 | プロジェクト管理者、一般ユーザー | ✅ 実装済み |
| UC-04 | プロジェクト更新   | プロジェクト管理者        | ✅ 実装済み |
| UC-05 | プロジェクト論理削除 | プロジェクト管理者        | ✅ 実装済み |
| UC-06 | プロジェクト検索   | プロジェクト管理者、一般ユーザー | ⏳ 将来実装 |

---

### UC-01: プロジェクト作成

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者 |
| **前提条件** | プロジェクト名が提供されている |
| **基本フロー** | 1. プロジェクト名のバリデーション<br>2. PME番号の自動生成（PME-YYYYMMDD-XXX形式）<br>3. プロジェクトレコードの作成<br>4. 作成されたプロジェクト情報を返却 |
| **例外フロー** | • プロジェクト名が空 → 400 Bad Request<br>• プロジェクト名が255文字超過 → 400 Bad Request |

---

### UC-02: プロジェクト一覧取得

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者、一般ユーザー |
| **前提条件** | なし |
| **基本フロー** | 1. 論理削除されていないプロジェクトを取得<br>2. 作成日時の降順でソート<br>3. ページネーション適用（オプション）<br>4. プロジェクト一覧を返却 |
| **例外フロー** | • データベースエラー → 500 Internal Server Error |

---

### UC-03: プロジェクト詳細取得

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者、一般ユーザー |
| **前提条件** | プロジェクトIDが提供されている |
| **基本フロー** | 1. プロジェクトIDで検索<br>2. 論理削除されていないことを確認<br>3. プロジェクト情報を返却 |
| **例外フロー** | • プロジェクトが存在しない → 404 Not Found<br>• プロジェクトが論理削除済み → 404 Not Found |

---

### UC-04: プロジェクト更新

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者 |
| **前提条件** | プロジェクトIDと更新データが提供されている |
| **基本フロー** | 1. プロジェクトIDのバリデーション<br>2. プロジェクトの存在確認<br>3. 更新データのバリデーション<br>4. プロジェクト情報の更新<br>5. updated_atの自動更新<br>6. 更新されたプロジェクト情報を返却 |
| **例外フロー** | • プロジェクトIDが無効 → 400 Bad Request<br>• プロジェクトが存在しない → 404 Not Found<br>• 更新データが無効 → 400 Bad Request |

---

### UC-05: プロジェクト論理削除

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者 |
| **前提条件** | プロジェクトIDが提供されている |
| **基本フロー** | 1. プロジェクトIDのバリデーション<br>2. プロジェクトの存在確認<br>3. deleted_atに現在時刻を設定<br>4. updated_atを更新<br>5. 削除成功を返却 |
| **例外フロー** | • プロジェクトIDが無効 → 400 Bad Request<br>• プロジェクトが存在しない → 404 Not Found<br>• 既に論理削除済み → 404 Not Found |

---

### UC-06: プロジェクト検索（将来実装）

| 項目 | 内容 |
|------|------|
| **アクター** | プロジェクト管理者、一般ユーザー |
| **前提条件** | 検索条件が提供されている |
| **基本フロー** | 1. 検索条件のバリデーション<br>2. プロジェクト名・PME番号で検索<br>3. 検索結果を返却 |
| **例外フロー** | • 検索条件が無効 → 400 Bad Request |

## 関連ドキュメント

- [02: ドメイン分析とグルーピング](./02_ドメイン分析とグルーピング.md)
- [04: ユースケース → Service マッピング](./04_ユースケース_Service_マッピング.md)
- [09: UC-01 プロジェクト作成](./09_ユースケース詳細仕様_UC01_プロジェクト作成.md)
- [10: UC-02 プロジェクト一覧取得](./10_ユースケース詳細仕様_UC02_プロジェクト一覧取得.md)
- [11: UC-03 プロジェクト詳細取得](./11_ユースケース詳細仕様_UC03_プロジェクト詳細取得.md)
- [12: UC-04 プロジェクト更新](./12_ユースケース詳細仕様_UC04_プロジェクト更新.md)
- [13: UC-05 プロジェクト論理削除](./13_ユースケース詳細仕様_UC05_プロジェクト論理削除.md)
- [14: UC-06 プロジェクト検索](./14_ユースケース詳細仕様_UC06_プロジェクト検索.md)

