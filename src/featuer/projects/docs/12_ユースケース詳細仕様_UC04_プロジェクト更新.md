# 12: UC-04 プロジェクト更新 📝

## UC-04: プロジェクト更新

**概要**: 既存のプロジェクト情報を更新する

**アクター**: プロジェクト管理者

**前提条件**:
- プロジェクトIDが提供されている
- 更新データが提供されている

**基本フロー**:
1. プロジェクトIDのバリデーション
   - 空でないこと
2. プロジェクトの存在確認
   - `findById()` で検索
3. 更新データのバリデーション
   - プロジェクト名が指定されている場合: 空でないこと、255文字以内
4. プロジェクト情報の更新
   - `updated_at`を自動更新
5. 更新されたプロジェクト情報を返却

**例外フロー**:
- **E1**: プロジェクトIDが無効
  - エラーメッセージ: "プロジェクトIDは必須です"
  - HTTPステータス: 400 Bad Request
- **E2**: プロジェクトが存在しない
  - エラーメッセージ: "プロジェクトが見つかりません"
  - HTTPステータス: 404 Not Found
- **E3**: 更新データが無効
  - エラーメッセージ: バリデーションエラーメッセージ
  - HTTPステータス: 400 Bad Request
- **E4**: データベースエラー
  - エラーログ出力
  - エラーメッセージ: "プロジェクトの更新に失敗しました"
  - HTTPステータス: 500 Internal Server Error

**後置条件**:
- プロジェクト情報が更新されている
- `updated_at`が現在時刻に更新されている

## 関連ドキュメント

- [03: ユースケース抽出](./03_ユースケース抽出.md)

