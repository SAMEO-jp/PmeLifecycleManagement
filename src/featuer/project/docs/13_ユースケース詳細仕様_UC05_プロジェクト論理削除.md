# 13: UC-05 プロジェクト論理削除 📝

## UC-05: プロジェクト論理削除

**概要**: プロジェクトを論理削除する（物理削除は行わない）

**アクター**: プロジェクト管理者

**前提条件**:
- プロジェクトIDが提供されている

**基本フロー**:
1. プロジェクトIDのバリデーション
   - 空でないこと
2. プロジェクトの存在確認
   - `findById()` で検索
   - 論理削除されていないことを確認
3. `deleted_at`に現在時刻を設定
4. `updated_at`を更新
5. 削除成功を返却

**例外フロー**:
- **E1**: プロジェクトIDが無効
  - エラーメッセージ: "プロジェクトIDは必須です"
  - HTTPステータス: 400 Bad Request
- **E2**: プロジェクトが存在しない
  - エラーメッセージ: "プロジェクトが見つかりません"
  - HTTPステータス: 404 Not Found
- **E3**: 既に論理削除済み
  - エラーメッセージ: "プロジェクトが見つかりません"
  - HTTPステータス: 404 Not Found
- **E4**: データベースエラー
  - エラーログ出力
  - エラーメッセージ: "プロジェクトの削除に失敗しました"
  - HTTPステータス: 500 Internal Server Error

**後置条件**:
- プロジェクトの`deleted_at`が設定されている
- プロジェクトは物理的には削除されていない（復元可能）

## 関連ドキュメント

- [03: ユースケース抽出](./03_ユースケース抽出.md)

