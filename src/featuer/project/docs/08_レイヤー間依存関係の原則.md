# 08: レイヤー間依存関係の原則 🎯

## 依存の方向性（単方向依存）

```
┌──────────────────────────────────────────────────────┐
│              依存の方向性（単方向依存）              │
└──────────────────────────────────────────────────────┘

Component --> Hook --> Service --> Repository --> DB
                         ↓
                       Util
                   (全層から利用可)

【プロジェクト機能の依存関係】

ProjectsComponent (将来実装)
  └─> useProjects() Hook (将来実装)
      └─> ProjectsService
          └─> ProjectsRepository
              └─> projects (DB)

【依存ルールの遵守】
├─ ✅ ServiceはRepositoryのみに依存
├─ ✅ RepositoryはDBのみに依存
├─ ✅ 循環依存なし
└─ ✅ 単一責任の原則（SRP）遵守

【各層の責務】

ProjectsService層
  └─ ビジネスロジックのみ
     ├─ バリデーション
     ├─ エラーハンドリング
     └─ データアクセスはRepositoryに委譲

ProjectsRepository層
  └─ データアクセスのみ
     ├─ CRUD操作
     ├─ クエリ構築
     └─ ビジネスロジックはServiceに委譲
```

## 関連ドキュメント

- [07: 設計判断マトリクス](./07_設計判断マトリクス.md)
- [16: 設計原則のまとめ](./16_設計原則のまとめ.md)

